(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{5770:function(e,s,r){Promise.resolve().then(r.t.bind(r,6685,23)),Promise.resolve().then(r.bind(r,6138))},6138:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return T}});var a=r(7437),l=r(1865),t=r(8110),i=r(4578);let o=i.Ry({firstName:i.Z_().min(1,"First name is required").max(32,"Name must be less than 32 characters"),lastName:i.Z_().min(1,"Last name is required").max(32,"Name must be less than 32 characters"),email:i.Z_().min(1,"Email is required").email("Email is invalid"),phoneNumber:i.Z_().min(1,"Phone number is required").max(12,"Invalid phone number"),password:i.Z_().min(8,"Password must be more than ".concat(8," characters")).max(50,"Password must be less than ".concat(50," characters")),passwordConfirm:i.Z_().min(1,"Please confirm your password")}).refine(e=>e.password===e.passwordConfirm,{path:["passwordConfirm"],message:"Passwords do not match"}).refine(e=>{var s;return s=e.phoneNumber,/^\+[1-9]\d{10,14}$/.test(s)},{path:["phoneNumber"],message:"Invalid phone number"});var n=r(1110),d=r(9222);let m=d.default.create({baseURL:"http://localhost:8080/api/v1",withCredentials:!0});m.defaults.headers.common["Content-Type"]="application/json";let c=async e=>await m.post("/auth/register",e).then(e=>e.data);var p=r(2164),u=r(2265),h=r(3014),f=r(1396),x=r.n(f);let v=()=>{h.toast.success((0,a.jsx)(b,{}),{position:"top-center"})},N=e=>{h.toast.error((0,a.jsx)(w,{message:e||void 0}),{position:"top-center"})},b=()=>(0,a.jsxs)("div",{className:"flex flex-col gap-[4px] pl-compact pr-common text-body-sm",children:[(0,a.jsx)("h3",{className:"capitalize text-primary-625",children:"Registered Successfully"}),(0,a.jsxs)("p",{children:["Moving to the"," ",(0,a.jsx)(x(),{href:"../login",className:"hover:font-bold",children:"Login Page"})]})]}),w=e=>{let{message:s}=e;return(0,a.jsx)("div",{className:"flex flex-col gap-[4px] pl-compact pr-common text-body-sm",children:(0,a.jsx)("h3",{className:"capitalize text-status-error",children:s||"Registered Failed"})})};var g=r(5297),j=r(3094),y=r(7042),P=r(5708),C=r(4729);let Z=u.forwardRef(function(e,s){let{className:r,disabled:l,error:t,...i}=e;return(0,a.jsx)(j.I,{...i,disabled:l,error:t,ref:s,startAdornment:e.type&&E(e.type),slotProps:{root:{className:(0,y.Z)(["baseInput",r],{inputDisabled:l,inputError:t})},input:{className:"w-full outline-none bg-inherit"}}})}),_=[{type:"email",icon:(0,a.jsx)(P.Z,{className:"aspect-square w-[1.8rem] text-primary-418-60"})},{type:"password",icon:(0,a.jsx)(C.Z,{className:"aspect-square w-[1.8rem] text-primary-418-60"})}],E=e=>{let s=_.find(s=>s.type==e);if(s)return s.icon};function F(e){let{className:s,label:r,helperText:l,type:t,required:i,value:o,error:n,disabled:d,defaultValue:m,register:c,...p}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(g.N,{...p,disabled:d,className:(0,y.Z)("flex flex-col gap-compact",s),children:[r&&(0,a.jsxs)("label",{className:"font-bold",children:[r," ",i?"*":""]}),(0,a.jsx)(Z,{type:t,className:"w-full",value:o,error:n,disabled:d,defaultValue:m,...c}),l&&(0,a.jsx)("p",{className:(0,y.Z)({"text-status-error":n}),children:l})]})})}var L=r(1465);let S=u.forwardRef(function(e,s){let{className:r,...l}=e;return(0,a.jsx)(L.z,{...l,ref:s,className:(0,y.Z)("btn",r)})});function T(){var e,s,r,i,d,m;let{reset:u,register:h,handleSubmit:f,formState:{errors:x}}=(0,l.cI)({mode:"onBlur",reValidateMode:"onSubmit",resolver:(0,t.F)(o),defaultValues:{firstName:"",lastName:"",email:"",phoneNumber:"",password:"",passwordConfirm:""}}),b=(0,n.D)({mutationFn:c,onSuccess:()=>{u(),v()},onError:e=>{if(e instanceof p.d7){var s;N(null===(s=e.response)||void 0===s?void 0:s.data.msg)}}});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:f((e,s)=>{null==s||s.preventDefault(),b.mutate({identifier:e.email,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,phoneNumber:e.phoneNumber})}),className:"flex w-full flex-col gap-cozy text-body-sm",children:[(0,a.jsxs)("div",{className:"flex-row-between gap-cozy",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(F,{type:"text",label:"First Name",placeholder:"First Name",register:h("firstName"),error:!!(null==x?void 0:x.firstName),helperText:null==x?void 0:null===(e=x.firstName)||void 0===e?void 0:e.message})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(F,{type:"text",label:"Last Name",placeholder:"Last Name",register:h("lastName"),error:!!(null==x?void 0:x.lastName),helperText:null==x?void 0:null===(s=x.lastName)||void 0===s?void 0:s.message})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(F,{type:"email",label:"Email",placeholder:"Your Email",register:h("email"),error:!!(null==x?void 0:x.email),helperText:null==x?void 0:null===(r=x.email)||void 0===r?void 0:r.message})}),(0,a.jsx)("div",{children:(0,a.jsx)(F,{type:"tel",label:"Phone Number",placeholder:"Phone Number",register:h("phoneNumber"),error:!!(null==x?void 0:x.phoneNumber),helperText:null==x?void 0:null===(i=x.phoneNumber)||void 0===i?void 0:i.message})}),(0,a.jsx)("div",{children:(0,a.jsx)(F,{type:"password",label:"Password",placeholder:"Password",register:h("password"),error:!!(null==x?void 0:x.password),helperText:null==x?void 0:null===(d=x.password)||void 0===d?void 0:d.message})}),(0,a.jsx)("div",{children:(0,a.jsx)(F,{type:"password",label:"Confirm Password",placeholder:"Confirm Password",register:h("passwordConfirm"),error:!!(null==x?void 0:x.passwordConfirm),helperText:null==x?void 0:null===(m=x.passwordConfirm)||void 0===m?void 0:m.message})}),(0,a.jsx)(S,{type:"submit",disabled:b.isLoading,children:b.isLoading?"Sending...":"Sign Up"})]})})}}},function(e){e.O(0,[410,535,971,596,744],function(){return e(e.s=5770)}),_N_E=e.O()}]);