(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{5770:function(e,s,a){Promise.resolve().then(a.t.bind(a,6685,23)),Promise.resolve().then(a.bind(a,5880))},5880:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return p}});var r=a(7437),i=a(1865),n=a(8110),o=a(4578);let l=o.Ry({firstName:o.Z_().min(1,"First name is required").max(32,"Name must be less than 32 characters"),lastName:o.Z_().min(1,"Last name is required").max(32,"Name must be less than 32 characters"),email:o.Z_().min(1,"Email is required").email("Email is invalid"),phoneNumber:o.Z_().min(1,"Phone number is required"),password:o.Z_().min(8,"Password must be more than ".concat(8," characters")).max(50,"Password must be less than ".concat(50," characters")),passwordConfirm:o.Z_().min(1,"Please confirm your password")}).refine(e=>e.password===e.passwordConfirm,{path:["passwordConfirm"],message:"Passwords do not match"}).refine(e=>{var s;return s=e.phoneNumber,/^\+[1-9]\d{10,14}$/.test(s)},{path:["phoneNumber"],message:"Invalid phone number"});var t=a(1110),m=a(9222);let d=m.Z.create({baseURL:"http://localhost:8080/api/v1",withCredentials:!0});d.defaults.headers.common["Content-Type"]="application/json";let u=async e=>await d.post("/auth/register",e).then(e=>e.data);function p(){var e,s,a,o,m,d;let{reset:p,register:c,handleSubmit:h,formState:{errors:f}}=(0,i.cI)({mode:"onBlur",reValidateMode:"onSubmit",resolver:(0,n.F)(l),defaultValues:{firstName:"",lastName:"",email:"",phoneNumber:"",password:"",passwordConfirm:""}}),v=(0,t.D)({mutationFn:u,onSuccess:e=>{p(),console.log("success",e)},onError:e=>{var s;return console.log(null===(s=e.response)||void 0===s?void 0:s.data)}});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{autoComplete:"off",onSubmit:h(e=>{v.mutate({identifier:e.email,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,phoneNumber:e.phoneNumber})}),className:"flex w-full flex-col gap-cozy text-body-sm",children:[(0,r.jsxs)("div",{className:"flex-row-between gap-cozy",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("input",{type:"text",placeholder:"First Name",...c("firstName")}),(null==f?void 0:null===(e=f.firstName)||void 0===e?void 0:e.message)&&(0,r.jsx)("p",{children:f.firstName.message})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("input",{type:"text",placeholder:"Last Name",...c("lastName")}),(null==f?void 0:null===(s=f.lastName)||void 0===s?void 0:s.message)&&(0,r.jsx)("p",{children:f.lastName.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"email",placeholder:"Email",...c("email")}),(null==f?void 0:null===(a=f.email)||void 0===a?void 0:a.message)&&(0,r.jsx)("p",{children:f.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"tel",placeholder:"Phone Number",...c("phoneNumber")}),(null==f?void 0:null===(o=f.phoneNumber)||void 0===o?void 0:o.message)&&(0,r.jsx)("p",{children:f.phoneNumber.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"password",placeholder:"Password",...c("password")}),(null==f?void 0:null===(m=f.password)||void 0===m?void 0:m.message)&&(0,r.jsx)("p",{children:f.password.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"password",placeholder:"Confirm Password",...c("passwordConfirm")}),(null==f?void 0:null===(d=f.passwordConfirm)||void 0===d?void 0:d.message)&&(0,r.jsx)("p",{children:f.passwordConfirm.message})]}),(0,r.jsx)("button",{type:"submit",children:"Sign Up"})]})})}}},function(e){e.O(0,[410,238,971,596,744],function(){return e(e.s=5770)}),_N_E=e.O()}]);