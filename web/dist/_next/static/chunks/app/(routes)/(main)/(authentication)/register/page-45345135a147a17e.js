(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{5770:function(e,s,a){Promise.resolve().then(a.t.bind(a,6685,23)),Promise.resolve().then(a.bind(a,8827))},8827:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var r=a(7437),i=a(1865),t=a(8110),o=a(4578);let l=o.Ry({firstName:o.Z_().min(1,"First name is required").max(32,"Name must be less than 32 characters"),lastName:o.Z_().min(1,"Last name is required").max(32,"Name must be less than 32 characters"),email:o.Z_().min(1,"Email is required").email("Email is invalid"),phoneNumber:o.Z_().min(1,"Phone number is required"),password:o.Z_().min(8,"Password must be more than ".concat(8," characters")).max(50,"Password must be less than ".concat(50," characters")),passwordConfirm:o.Z_().min(1,"Please confirm your password")}).refine(e=>e.password===e.passwordConfirm,{path:["passwordConfirm"],message:"Passwords do not match"}).refine(e=>{var s;return s=e.phoneNumber,/^\+[1-9]\d{10,14}$/.test(s)},{path:["phoneNumber"],message:"Invalid phone number"});var n=a(1110),m=a(9222);let d=m.default.create({baseURL:"http://localhost:8080/api/v1",withCredentials:!0});d.defaults.headers.common["Content-Type"]="application/json";let c=async e=>await d.post("/auth/register",e).then(e=>e.data);var p=a(2164);a(2265);var u=a(3014),h=a(1396),x=a.n(h);let f=()=>{u.toast.success((0,r.jsx)(N,{}),{position:"top-center"})},v=e=>{u.toast.error((0,r.jsx)(j,{message:e||void 0}),{position:"top-center"})},N=()=>(0,r.jsxs)("div",{className:"flex flex-col gap-[4px] pl-compact pr-common text-body-sm",children:[(0,r.jsx)("h3",{className:"capitalize text-primary-625",children:"Registered Successfully"}),(0,r.jsxs)("p",{children:["Moving to the"," ",(0,r.jsx)(x(),{href:"../login",className:"hover:font-bold",children:"Login Page"})]})]}),j=e=>{let{message:s}=e;return(0,r.jsx)("div",{className:"flex flex-col gap-[4px] pl-compact pr-common text-body-sm",children:(0,r.jsx)("h3",{className:"capitalize text-status-error",children:s||"Registered Failed"})})};function b(){var e,s,a,o,m,d;let{reset:u,register:h,handleSubmit:x,formState:{errors:N}}=(0,i.cI)({mode:"onBlur",reValidateMode:"onSubmit",resolver:(0,t.F)(l),defaultValues:{firstName:"",lastName:"",email:"",phoneNumber:"",password:"",passwordConfirm:""}}),j=(0,n.D)({mutationFn:c,onSuccess:()=>{u(),f()},onError:e=>{if(e instanceof p.d7){var s;v(null===(s=e.response)||void 0===s?void 0:s.data.msg)}}});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:x(e=>{j.mutate({identifier:e.email,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,phoneNumber:e.phoneNumber})}),className:"flex w-full flex-col gap-cozy text-body-sm",children:[(0,r.jsxs)("div",{className:"flex-row-between gap-cozy",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("input",{type:"text",placeholder:"First Name",...h("firstName")}),(null==N?void 0:null===(e=N.firstName)||void 0===e?void 0:e.message)&&(0,r.jsx)("p",{children:N.firstName.message})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("input",{type:"text",placeholder:"Last Name",...h("lastName")}),(null==N?void 0:null===(s=N.lastName)||void 0===s?void 0:s.message)&&(0,r.jsx)("p",{children:N.lastName.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"email",placeholder:"Email",...h("email")}),(null==N?void 0:null===(a=N.email)||void 0===a?void 0:a.message)&&(0,r.jsx)("p",{children:N.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"tel",placeholder:"Phone Number",...h("phoneNumber")}),(null==N?void 0:null===(o=N.phoneNumber)||void 0===o?void 0:o.message)&&(0,r.jsx)("p",{children:N.phoneNumber.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"password",placeholder:"Password",...h("password")}),(null==N?void 0:null===(m=N.password)||void 0===m?void 0:m.message)&&(0,r.jsx)("p",{children:N.password.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"password",placeholder:"Confirm Password",...h("passwordConfirm")}),(null==N?void 0:null===(d=N.passwordConfirm)||void 0===d?void 0:d.message)&&(0,r.jsx)("p",{children:N.passwordConfirm.message})]}),(0,r.jsx)("button",{type:"submit",children:"Sign Up"})]})})}}},function(e){e.O(0,[410,688,971,596,744],function(){return e(e.s=5770)}),_N_E=e.O()}]);