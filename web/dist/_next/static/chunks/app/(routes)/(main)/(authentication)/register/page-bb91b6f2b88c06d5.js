(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{4208:function(e,s,a){Promise.resolve().then(a.bind(a,6297)),Promise.resolve().then(a.t.bind(a,6685,23))},6297:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var o=a(7437),r=a(1865),i=a(8110),n=a(4578);let l=n.Ry({firstName:n.Z_().min(1,"First name is required").max(32,"Name must be less than 32 characters"),lastName:n.Z_().min(1,"Last name is required").max(32,"Name must be less than 32 characters"),email:n.Z_().min(1,"Email is required").email("Email is invalid"),phoneNumber:n.Z_().min(1,"Phone number is required"),password:n.Z_().min(8,"Password must be more than ".concat(8," characters")).max(50,"Password must be less than ".concat(50," characters")),passwordConfirm:n.Z_().min(1,"Please confirm your password")}).refine(e=>e.password===e.passwordConfirm,{path:["passwordConfirm"],message:"Passwords do not match"}).refine(e=>{var s;return s=e.phoneNumber,/^\+[1-9]\d{10,14}$/.test(s)},{path:["phoneNumber"],message:"Invalid phone number"});var t=a(1110),m=a(9222);let d=m.Z.create({baseURL:"http://localhost:8080/api/v1",withCredentials:!0});d.defaults.headers.common["Content-Type"]="application/json";let c=async e=>await d.post("/auth/register",e).then(e=>e.data);var p=a(3014);a(2265);var u=a(1396),h=a.n(u);let f=e=>{let{closeToast:s,toastProps:a}=e;return(0,o.jsxs)("div",{className:"flex flex-col gap-[4px] p-compact text-body-sm",children:[(0,o.jsx)("h3",{className:"capitalize",children:"Registered Successfully"}),(0,o.jsxs)("p",{children:["Moving to the"," ",(0,o.jsx)(h(),{href:"../login",className:"hover:font-bold",children:"Login Page"})]})]})};function v(){var e,s,a,n,m,d;let{reset:u,register:h,handleSubmit:v,formState:{errors:x}}=(0,r.cI)({mode:"onBlur",reValidateMode:"onSubmit",resolver:(0,i.F)(l),defaultValues:{firstName:"",lastName:"",email:"",phoneNumber:"",password:"",passwordConfirm:""}}),N=(0,t.D)({mutationFn:c,onSuccess:e=>{u(),console.log("success",e)},onError:e=>{var s;return console.log(null===(s=e.response)||void 0===s?void 0:s.data)}});return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("form",{autoComplete:"off",onSubmit:v(e=>{N.mutate({identifier:e.email,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,phoneNumber:e.phoneNumber})}),className:"flex w-full flex-col gap-cozy text-body-sm",children:[(0,o.jsxs)("div",{className:"flex-row-between gap-cozy",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("input",{type:"text",placeholder:"First Name",...h("firstName")}),(null==x?void 0:null===(e=x.firstName)||void 0===e?void 0:e.message)&&(0,o.jsx)("p",{children:x.firstName.message})]}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("input",{type:"text",placeholder:"Last Name",...h("lastName")}),(null==x?void 0:null===(s=x.lastName)||void 0===s?void 0:s.message)&&(0,o.jsx)("p",{children:x.lastName.message})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"email",placeholder:"Email",...h("email")}),(null==x?void 0:null===(a=x.email)||void 0===a?void 0:a.message)&&(0,o.jsx)("p",{children:x.email.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"tel",placeholder:"Phone Number",...h("phoneNumber")}),(null==x?void 0:null===(n=x.phoneNumber)||void 0===n?void 0:n.message)&&(0,o.jsx)("p",{children:x.phoneNumber.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"password",placeholder:"Password",...h("password")}),(null==x?void 0:null===(m=x.password)||void 0===m?void 0:m.message)&&(0,o.jsx)("p",{children:x.password.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"password",placeholder:"Confirm Password",...h("passwordConfirm")}),(null==x?void 0:null===(d=x.passwordConfirm)||void 0===d?void 0:d.message)&&(0,o.jsx)("p",{children:x.passwordConfirm.message})]}),(0,o.jsx)("button",{type:"submit",children:"Sign Up"}),(0,o.jsx)("button",{type:"button",onClick:()=>p.toast.success((0,o.jsx)(f,{}),{position:"top-center",onClose:()=>console.log("to login page")}),children:"Notify"})]})})}}},function(e){e.O(0,[410,211,971,596,744],function(){return e(e.s=4208)}),_N_E=e.O()}]);